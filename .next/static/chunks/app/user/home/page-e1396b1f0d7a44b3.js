(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2818],{2226:(e,t,r)=>{"use strict";r.d(t,{De:()=>n,Ou:()=>d,QN:()=>i,Rl:()=>s,W7:()=>a,gL:()=>l});let s=[{id:"restaurant-chinese-1",name:"京華樓",description:"正宗北方菜系，提供烤鴨、餃子等經典美食",coverImage:"/placeholder.svg?height=200&width=300&text=京華樓",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:200,address:"台北市大安區忠孝東路四段101號",phone:"02-2771-1234",cuisine:"中式料理",isNew:!1,distance:"2.5 km"},{id:"restaurant-japanese-1",name:"藤井壽司",description:"新鮮食材直送，正統江戶前壽司體驗",coverImage:"/placeholder.svg?height=200&width=300&text=藤井壽司",rating:4.9,deliveryTime:"25-40 分鐘",deliveryFee:80,minimumOrder:350,address:"台北市大安區敦化南路一段233號",phone:"02-2731-2345",cuisine:"日式料理",isNew:!1,distance:"2.7 km"},{id:"restaurant-korean-1",name:"首爾之星",description:"正宗韓式烤肉，多種醬料可選，道地韓國風味",coverImage:"/placeholder.svg?height=200&width=300&text=首爾之星",rating:4.8,deliveryTime:"35-50 分鐘",deliveryFee:75,minimumOrder:300,address:"台北市大安區復興南路一段107號",phone:"02-2711-4567",cuisine:"韓式料理",isNew:!0,distance:"2.3 km"},{id:"restaurant-italian-1",name:"羅馬廚房",description:"道地義式料理，使用進口食材製作，品味義大利風情",coverImage:"/placeholder.svg?height=200&width=300&text=羅馬廚房",rating:4.7,deliveryTime:"35-50 分鐘",deliveryFee:80,minimumOrder:300,address:"台北市大安區敦化南路二段100號",phone:"02-2709-6789",cuisine:"義式料理",isNew:!1,distance:"2.8 km"},{id:"restaurant-american-1",name:"美味漢堡",description:"提供各種美味漢堡、薯條和飲料，道地美式風味",coverImage:"/placeholder.svg?height=200&width=300&text=美味漢堡",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:150,address:"台北市信義區信義路五段7號",phone:"02-2345-6789",cuisine:"美式料理",isNew:!1,distance:"1.2 km"},{id:"restaurant-thai-1",name:"泰饗樂",description:"道地泰國風味，酸辣可口，讓您彷彿置身曼谷",coverImage:"/placeholder.svg?height=200&width=300&text=泰饗樂",rating:4.6,deliveryTime:"30-45 分鐘",deliveryFee:65,minimumOrder:180,address:"台北市松山區南京東路五段123號",phone:"02-2756-1234",cuisine:"泰式料理",isNew:!1,distance:"3.1 km"},{id:"restaurant-vegetarian-1",name:"綠色天地",description:"健康素食料理，使用有機食材，清爽可口",coverImage:"/placeholder.svg?height=200&width=300&text=綠色天地",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:150,address:"台北市中正區羅斯福路三段300號",phone:"02-2365-4567",cuisine:"素食",isNew:!1,distance:"3.4 km"},{id:"restaurant-dessert-1",name:"甜點工坊",description:"手工製作各種甜點，口味多樣，甜蜜享受",coverImage:"/placeholder.svg?height=200&width=300&text=甜點工坊",rating:4.8,deliveryTime:"25-40 分鐘",deliveryFee:55,minimumOrder:120,address:"台北市信義區松仁路100號",phone:"02-2723-7890",cuisine:"甜點",isNew:!1,distance:"1.4 km"},{id:"restaurant-beverage-1",name:"茶香坊",description:"精選台灣茶葉，手工調製，清爽解渴",coverImage:"/placeholder.svg?height=200&width=300&text=茶香坊",rating:4.6,deliveryTime:"15-30 分鐘",deliveryFee:40,minimumOrder:100,address:"台北市大安區復興南路一段107號",phone:"02-2711-0123",cuisine:"飲料",isNew:!1,distance:"2.1 km"}],a=[{id:"chinese-1-item-1",restaurantId:"restaurant-chinese-1",name:"北京烤鴨",description:"外皮酥脆，肉質鮮嫩，搭配特製醬料和薄餅",price:580,image:"/placeholder.svg?height=100&width=100&text=北京烤鴨",category:"主餐",isPopular:!0},{id:"chinese-1-item-2",restaurantId:"restaurant-chinese-1",name:"宮保雞丁",description:"辣中帶甜，花生香脆，雞肉嫩滑",price:220,image:"/placeholder.svg?height=100&width=100&text=宮保雞丁",category:"主餐",isPopular:!0},{id:"chinese-1-item-3",restaurantId:"restaurant-chinese-1",name:"蔥油餅",description:"層次分明，外酥內軟，蔥香四溢",price:80,image:"/placeholder.svg?height=100&width=100&text=蔥油餅",category:"配菜"},{id:"japanese-1-item-1",restaurantId:"restaurant-japanese-1",name:"特上握壽司",description:"新鮮海鮮，精緻擺盤，入口即化",price:680,image:"/placeholder.svg?height=100&width=100&text=特上握壽司",category:"主餐",isPopular:!0},{id:"japanese-1-item-2",restaurantId:"restaurant-japanese-1",name:"茶碗蒸",description:"滑嫩蒸蛋，內含海鮮配料，清爽可口",price:150,image:"/placeholder.svg?height=100&width=100&text=茶碗蒸",category:"配菜"},{id:"american-1-item-1",restaurantId:"restaurant-american-1",name:"經典牛肉漢堡",description:"多汁牛肉，新鮮生菜，特製醬料，完美搭配",price:220,image:"/placeholder.svg?height=100&width=100&text=經典牛肉漢堡",category:"主餐",isPopular:!0},{id:"american-1-item-2",restaurantId:"restaurant-american-1",name:"薯條",description:"外酥內軟，黃金比例，搭配特製醬料",price:80,image:"/placeholder.svg?height=100&width=100&text=薯條",category:"配菜",isPopular:!0}],i=[{id:"DEL-001",restaurant:"京華樓",customer:"王小明",deliveryAddress:"台北市信義區信義路五段7號",restaurantAddress:"台北市大安區忠孝東路四段101號",estimatedDeliveryTime:"30-45 分鐘",deliveryFee:60,distance:"2.5 km",notes:"請放在門口，不用按門鈴",status:"available",items:[{name:"北京烤鴨",quantity:1,price:580,image:"/placeholder.svg?height=64&width=64&text=北京烤鴨"},{name:"宮保雞丁",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=宮保雞丁"}]},{id:"DEL-002",restaurant:"藤井壽司",customer:"李美麗",deliveryAddress:"台北市中山區南京東路二段100號",restaurantAddress:"台北市大安區敦化南路一段233號",estimatedDeliveryTime:"25-40 分鐘",deliveryFee:70,distance:"3.2 km",notes:"請送到辦公室",status:"accepted",items:[{name:"特上握壽司",quantity:1,price:680,image:"/placeholder.svg?height=64&width=64&text=特上握壽司"},{name:"茶碗蒸",quantity:1,price:150,image:"/placeholder.svg?height=64&width=64&text=茶碗蒸"}]},{id:"DEL-003",restaurant:"美味漢堡",customer:"陳志明",deliveryAddress:"台北市大安區忠孝東路四段101號",restaurantAddress:"台北市信義區松壽路12號",estimatedDeliveryTime:"20-35 分鐘",deliveryFee:50,distance:"1.8 km",notes:"",status:"completed",items:[{name:"經典牛肉漢堡",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=經典牛肉漢堡"},{name:"薯條",quantity:1,price:80,image:"/placeholder.svg?height=64&width=64&text=薯條"},{name:"可樂",quantity:1,price:50,image:"/placeholder.svg?height=64&width=64&text=可樂"}]}],n=[{id:"ORD-001",customer:"王小明",time:"12:30",deliveryAddress:"台北市信義區信義路五段7號",total:580,status:"pending",items:[{name:"北京烤鴨",quantity:1,price:580,image:"/placeholder.svg?height=64&width=64&text=北京烤鴨"}]},{id:"ORD-002",customer:"李美麗",time:"13:45",deliveryAddress:"台北市中山區南京東路二段100號",total:220,status:"preparing",items:[{name:"宮保雞丁",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=宮保雞丁"}]},{id:"ORD-003",customer:"陳志明",time:"18:00",deliveryAddress:"台北市大安區忠孝東路四段101號",total:180,status:"completed",items:[{name:"水餃 (12顆)",quantity:1,price:180,image:"/placeholder.svg?height=64&width=64&text=水餃"}]}],d=e=>s.find(t=>t.id===e),l=e=>a.filter(t=>t.restaurantId===e)},2338:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>z});var s=r(5155),a=r(2115),i=r(7781),n=r(2226),d=r(9852),l=r(7168),c=r(7924),o=r(4416),m=r(4516);function u(e){let{onSearch:t,initialQuery:r="",initialLocation:i="台北市信義區"}=e,[n,u]=(0,a.useState)(r),[h,x]=(0,a.useState)(i),[g,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p(!0)},[]),(0,a.useEffect)(()=>{g&&r&&v()},[g,r]);let v=e=>{e&&e.preventDefault(),t(n,h)};return(0,s.jsx)("form",{onSubmit:v,className:"relative w-full",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(d.p,{type:"search",placeholder:"搜尋餐廳或美食類型...",className:"pl-10 pr-10 py-6 border-brand-primary/20 focus-visible:ring-brand-primary text-black",value:n,onChange:e=>u(e.target.value)}),n&&(0,s.jsxs)("button",{type:"button",onClick:()=>{u(""),t("",h)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"清除搜尋"})]})]}),(0,s.jsxs)("div",{className:"relative md:w-1/3",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(d.p,{type:"text",placeholder:"您的位置",className:"pl-10 pr-4 py-6 border-brand-secondary/20 focus-visible:ring-brand-secondary text-black",value:h,onChange:e=>x(e.target.value)})]}),(0,s.jsxs)(l.$,{type:"submit",className:"py-6 px-8 bg-gradient-to-r from-brand-primary to-brand-accent hover:opacity-90 transition-opacity",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"搜尋"]})]})})}var h=r(7655),x=r(3999);let g=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(h.bL,{ref:t,className:(0,x.cn)("relative overflow-hidden",r),...i,children:[(0,s.jsx)(h.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(p,{}),(0,s.jsx)(h.OK,{})]})});g.displayName=h.bL.displayName;let p=a.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...i}=e;return(0,s.jsx)(h.VM,{ref:t,orientation:a,className:(0,x.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...i,children:(0,s.jsx)(h.lr,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=h.VM.displayName;var v=r(5747),f=r(6635),b=r(3454),y=r(9568),j=r(2530),w=r(4913),N=r(4681),A=r(1688),k=r(7312);function S(e){let{activeCategory:t="all",onCategoryChange:r}=e,[i,n]=(0,a.useState)(t);(0,a.useEffect)(()=>{n(t)},[t]);let d=(e,t)=>{n(e),r&&r(e,t)},l=[{id:"all",name:"全部",icon:v.A},{id:"chinese",name:"中式料理",icon:f.A},{id:"japanese",name:"日式料理",icon:b.A},{id:"korean",name:"韓式料理",icon:y.A},{id:"italian",name:"義式料理",icon:j.A},{id:"american",name:"美式料理",icon:w.A},{id:"thai",name:"泰式料理",icon:N.A},{id:"vegetarian",name:"素食",icon:N.A},{id:"dessert",name:"甜點",icon:A.A},{id:"beverage",name:"飲料",icon:k.A}];return(0,s.jsxs)(g,{className:"w-full whitespace-nowrap pb-2",children:[(0,s.jsx)("div",{className:"flex w-max space-x-3 p-1",children:l.map(e=>{let t=i===e.id,r=e.icon;return(0,s.jsxs)("button",{onClick:()=>d(e.id,e.name),className:"\n                category-tag flex items-center gap-2 card-hover\n                ".concat(t?"active":"","\n              "),children:[(0,s.jsx)(r,{className:"h-4 w-4 ".concat(t?"text-white":"text-muted-foreground")}),(0,s.jsx)("span",{children:e.name})]},e.id)})}),(0,s.jsx)(p,{orientation:"horizontal"})]})}var E=r(7918),F=r(7737),I=r(4186),O=r(3311),L=r(3109),C=r(9037),T=r(2138),q=r(1539),D=r(5695);let R={all:"全部",chinese:"中式料理",japanese:"日式料理",korean:"韓式料理",italian:"義式料理",american:"美式料理",thai:"泰式料理",vegetarian:"素食",dessert:"甜點",beverage:"飲料"};function z(){let e=(0,D.useRouter)(),t=(0,D.useSearchParams)(),r=t.get("q")||"",d=t.get("category")||"all",[l,o]=(0,a.useState)(d),[h,x]=(0,a.useState)(R[d]||"全部"),[g,p]=(0,a.useState)(!0),[v,f]=(0,a.useState)(r),[b,y]=(0,a.useState)("台北市信義區"),[j,w]=(0,a.useState)(n.Rl),[N,A]=(0,a.useState)(!1),{favorites:k}=(0,E.r)(),z=(r,s)=>{A(!0);let a=n.Rl;if("all"!==s&&(a=a.filter(e=>e.cuisine===R[s])),r){let e=r.toLowerCase();a=a.filter(t=>t.name.toLowerCase().includes(e)||t.cuisine.toLowerCase().includes(e)||t.description.toLowerCase().includes(e))}w(a);let i=new URLSearchParams(t.toString());r?i.set("q",r):i.delete("q"),"all"!==s?i.set("category",s):i.delete("category"),e.replace("/user/home".concat(i.toString()?"?".concat(i.toString()):""),{scroll:!1}),setTimeout(()=>A(!1),300)};return(0,a.useEffect)(()=>{let e=setTimeout(()=>{p(!1),z(v,l)},800);return()=>clearTimeout(e)},[]),(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-brand-primary to-brand-accent text-white py-12 px-4",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"max-w-3xl",children:[(0,s.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:[(0,s.jsx)("span",{children:"User001"}),(0,s.jsx)("span",{className:"mx-2",children:"，"}),(0,s.jsx)("span",{children:"歡迎回來！"})]}),(0,s.jsx)("p",{className:"text-lg md:text-xl opacity-90 mb-8",children:"探索附近的美食，立即訂購"}),(0,s.jsx)(u,{onSearch:(e,t)=>{f(e),y(t),z(e,l)},initialQuery:v,initialLocation:b})]})})}),(0,s.jsxs)("div",{className:"container py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(S,{activeCategory:l,onCategoryChange:(e,t)=>{o(e),x(t),z(v,e)}})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-brand-primary/10 rounded-xl p-4 flex items-center",children:[(0,s.jsx)("div",{className:"bg-brand-primary/20 p-3 rounded-full mr-4",children:(0,s.jsx)(m.A,{className:"h-6 w-6 text-brand-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"您的位置"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:b})]})]}),(0,s.jsxs)("div",{className:"bg-brand-secondary/10 rounded-xl p-4 flex items-center",children:[(0,s.jsx)("div",{className:"bg-brand-secondary/20 p-3 rounded-full mr-4",children:(0,s.jsx)(I.A,{className:"h-6 w-6 text-brand-secondary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"預計送達時間"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"20-35 分鐘"})]})]}),(0,s.jsxs)("div",{className:"bg-brand-accent/10 rounded-xl p-4 flex items-center",children:[(0,s.jsx)("div",{className:"bg-brand-accent/20 p-3 rounded-full mr-4",children:(0,s.jsx)(O.A,{className:"h-6 w-6 text-brand-accent"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:"EatMove 點數"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"320 點"})]})]})]}),v&&(0,s.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 mr-2 text-brand-primary"}),(0,s.jsxs)("p",{children:["搜尋 ",(0,s.jsxs)("span",{className:"font-medium",children:['"',v,'"']})," 的結果 (",j.length," 家餐廳)"]})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold flex items-center",children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"mr-2 h-6 w-6 text-brand-primary"}),(0,s.jsx)("span",{children:"搜尋結果"})]}):"all"===l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.A,{className:"mr-2 h-6 w-6 text-brand-primary"}),(0,s.jsx)("span",{children:"熱門推薦"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.A,{className:"mr-2 h-6 w-6 text-brand-primary"}),(0,s.jsxs)("span",{children:[h,"精選"]})]})}),j.length>8&&(0,s.jsxs)("button",{className:"text-brand-primary font-medium flex items-center hover:underline",children:[(0,s.jsx)("span",{children:"查看更多"}),(0,s.jsx)(T.A,{className:"ml-1 h-4 w-4"})]})]}),g||N?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array(8).fill(0).map((e,t)=>(0,s.jsxs)("div",{className:"rounded-xl overflow-hidden",children:[(0,s.jsx)(F.E,{className:"h-48 w-full"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)(F.E,{className:"h-6 w-3/4"}),(0,s.jsx)(F.E,{className:"h-4 w-full"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(F.E,{className:"h-4 w-1/4"}),(0,s.jsx)(F.E,{className:"h-4 w-1/4"})]})]})]},t))}):j.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:j.map(e=>(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(i.g,{restaurant:e,isFavorite:k.some(t=>t.id===e.id)})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12 bg-muted/30 rounded-xl",children:[(0,s.jsx)(q.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:v?'找不到與 "'.concat(v,'" 相關的餐廳'):"暫無".concat(h,"店家")}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:v?"請嘗試其他搜尋關鍵字":"請嘗試選擇其他類別"})]})]})]})]})}},3952:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var s=r(2115);function a(e,t){let[r,a]=(0,s.useState)(()=>{try{let r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(e){return console.error(e),t}});return(0,s.useEffect)(()=>{let t=t=>{t.key===e&&t.newValue&&a(JSON.parse(t.newValue))};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e]),[r,t=>{try{let s=t instanceof Function?t(r):t;a(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(e){console.error(e)}}]}},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),a=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),a=r(2115),i=r(9708),n=r(2085),d=r(3999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...o}=e,m=c?i.DX:"button";return(0,s.jsx)(m,{className:(0,d.cn)(l({variant:a,size:n,className:r})),ref:t,...o})});c.displayName="Button"},7737:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(5155),a=r(3999);function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",t),...r})}},7781:(e,t,r)=>{"use strict";r.d(t,{g:()=>v});var s=r(5155),a=r(6874),i=r.n(a),n=r(6766),d=r(1976),l=r(8564),c=r(4186),o=r(4516),m=r(4870),u=r(3999),h=r(2115),x=r(7918),g=r(8145),p=r(9269);function v(e){let{restaurant:t,isFavorite:r}=e,{id:a,name:v,cuisine:f,rating:b,deliveryTime:y,distance:j,minimumOrder:w,deliveryFee:N,isNew:A,description:k,coverImage:S}=t,{addFavorite:E,removeFavorite:F}=(0,x.r)(),[I,O]=(0,h.useState)(r),[L,C]=(0,h.useState)(!1);return(0,s.jsx)(i(),{href:"/user/restaurant/".concat(a),children:(0,s.jsxs)("div",{className:"group relative bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 h-full flex flex-col transform hover:-translate-y-1",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[(0,s.jsxs)("div",{className:"relative overflow-hidden aspect-[4/3]",children:[(0,s.jsx)(n.default,{src:(0,p.b8)(v)||"/placeholder.svg",alt:v,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy",sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw"}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),I?F(a):E(t),O(!I)},className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-md z-10 transition-transform duration-200 hover:scale-110","aria-label":I?"從收藏移除":"加入收藏",children:(0,s.jsx)(d.A,{size:18,className:(0,u.cn)("transition-colors duration-200",I?"fill-red-500 text-red-500":"text-gray-600")})}),A&&(0,s.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,s.jsx)(g.E,{className:"bg-green-500 hover:bg-green-600 text-white font-medium px-2.5 py-1",children:"新店"})}),(0,s.jsxs)("div",{className:"absolute bottom-3 left-3 flex items-center bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md shadow-sm",children:[(0,s.jsx)(l.A,{className:"h-3.5 w-3.5 text-yellow-500 fill-yellow-500 mr-1"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:b})]}),(0,s.jsx)("div",{className:"absolute bottom-3 right-3",children:(0,s.jsx)(g.E,{variant:"outline",className:"bg-white/90 backdrop-blur-sm border-none text-gray-700",children:f})})]}),(0,s.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-1",children:(0,s.jsx)("h3",{className:"font-bold text-lg line-clamp-1 group-hover:text-brand-primary transition-colors",children:v})}),(0,s.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3 flex-1",children:k||"提供各種美味".concat(f,"，滿足您的味蕾")}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,s.jsx)(c.A,{className:"h-3.5 w-3.5 mr-1.5"}),(0,s.jsx)("span",{children:y}),(0,s.jsx)("span",{className:"mx-2",children:"•"}),(0,s.jsx)(o.A,{className:"h-3.5 w-3.5 mr-1.5"}),(0,s.jsx)("span",{children:j})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-gray-100",children:[(0,s.jsxs)("span",{className:"font-medium",children:["最低消費 $",w]}),(0,s.jsxs)("span",{className:"text-gray-500",children:["外送費 $",N]})]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:(0,s.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-md flex items-center font-medium text-brand-primary",children:[(0,s.jsx)("span",{children:"查看詳情"}),(0,s.jsx)(m.A,{className:"ml-1 h-4 w-4"})]})})]})]})})}},7918:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var s=r(2115),a=r(3952);function i(){let[e,t]=(0,a.M)("eatmove-favorites",[]),[r,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{i(!0)},[]),{favorites:e,addFavorite:s=>{r&&!e.some(e=>e.id===s.id)&&t([...e,s])},removeFavorite:s=>{r&&t(e.filter(e=>e.id!==s))},isFavorite:t=>e.some(e=>e.id===t),isLoaded:r}}},8145:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var s=r(5155);r(2115);var a=r(2085),i=r(3999);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...a})}},9193:(e,t,r)=>{Promise.resolve().then(r.bind(r,2338))},9269:(e,t,r)=>{"use strict";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return arguments.length>3&&void 0!==arguments[3]&&arguments[3],"/placeholder.svg?height=".concat(r,"&width=").concat(t,"&text=").concat(encodeURIComponent(e))}function a(e){return s(e,300,200)}function i(e){return s(e,100,100)}function n(e){return s(e,40,40)}r.d(t,{Ah:()=>i,b8:()=>a,dM:()=>n})},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(5155),a=r(2115),i=r(3999);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-black ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,6766,6441,6226,8441,1684,7358],()=>t(9193)),_N_E=e.O()}]);