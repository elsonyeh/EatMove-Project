exports.id=962,exports.ids=[962],exports.modules={19186:(e,t,s)=>{"use strict";s.d(t,{UserNav:()=>f});var r=s(60687),a=s(16189),n=s(70373),i=s(24934),l=s(55629),o=s(70333),c=s(58869),d=s(39916),m=s(85778),x=s(84027),h=s(40083),u=s(73295);function f(){let e=(0,a.useRouter)(),{toast:t}=(0,o.dj)();return(0,r.jsxs)(l.rI,{children:[(0,r.jsx)(l.ty,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,r.jsxs)(n.eu,{className:"h-10 w-10 border-2 border-brand-primary/20",children:[(0,r.jsx)(n.BK,{src:(0,u.dM)("User001")||"/placeholder.svg",alt:"User001"}),(0,r.jsx)(n.q5,{className:"bg-brand-primary/10 text-brand-primary",children:"U1"})]})})}),(0,r.jsxs)(l.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(l.lp,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:"User001"}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:"user001@example.com"})]})}),(0,r.jsx)(l.mB,{}),(0,r.jsxs)(l.I,{children:[(0,r.jsxs)(l._2,{onClick:()=>e.push("/user/profile"),children:[(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 text-brand-primary"}),(0,r.jsx)("span",{children:"個人資料"})]}),(0,r.jsxs)(l._2,{onClick:()=>e.push("/user/orders"),children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 text-brand-secondary"}),(0,r.jsx)("span",{children:"訂單記錄"})]}),(0,r.jsxs)(l._2,{onClick:()=>e.push("/user/payment"),children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4 text-brand-accent"}),(0,r.jsx)("span",{children:"付款方式"})]}),(0,r.jsxs)(l._2,{onClick:()=>e.push("/user/settings"),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4 text-brand-dark"}),(0,r.jsx)("span",{children:"設定"})]})]}),(0,r.jsx)(l.mB,{}),(0,r.jsxs)(l._2,{onClick:()=>{t({title:"已登出",description:"您已成功登出",variant:"default"}),e.push("/login")},className:"text-red-500 focus:text-red-500",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"登出"})]})]})]})}},27962:(e,t,s)=>{"use strict";s.d(t,{F:()=>c});var r=s(60687),a=s(85814),n=s.n(a),i=s(94577),l=s(70334);let o=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...e,children:(0,r.jsx)("path",{d:"M18.18,10l-1.7-4.68C16.19,4.53,15.44,4,14.6,4H12v2h2.6l1.46,4h-4.81l-0.36-1H12V7H7v2h1.75l1.82,5H9.9 c-0.44-2.23-2.31-3.88-4.65-3.99C2.45,9.87,0,12.2,0,15c0,2.8,2.2,5,5,5c2.46,0,4.45-1.69,4.9-4h4.2c0.44,2.23,2.31,3.88,4.65,3.99 c2.8,0.13,5.25-2.19,5.25-5c0-2.8-2.2-5-5-5H18.18z M7.82,16c-0.4,1.17-1.49,2-2.82,2c-1.68,0-3-1.32-3-3s1.32-3,3-3 c1.33,0,2.42,0.83,2.82,2H5v2H7.82z M14.1,14h-1.4l-0.73-2H15C14.56,12.58,14.24,13.25,14.1,14z M19,18c-1.68,0-3-1.32-3-3 c0-0.93,0.41-1.73,1.05-2.28l0.96,2.64l1.88-0.68l-0.97-2.67c0.03,0,0.06-0.01,0.09-0.01c1.68,0,3,1.32,3,3S20.68,18,19,18z"})});function c({variant:e="default",size:t="md",href:s="/user/home"}){let a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(i.A,{className:`text-brand-primary ${"sm"===t?"h-5 w-5":"md"===t?"h-6 w-6":"h-8 w-8"}`})}),"default"===e&&(0,r.jsxs)("div",{className:`flex items-center ${{sm:"text-lg",md:"text-2xl",lg:"text-3xl"}[t]}`,children:[(0,r.jsx)("span",{className:"text-brand-primary",children:"Eat"}),(0,r.jsx)(l.A,{className:`${"sm"===t?"h-3 w-3":"md"===t?"h-4 w-4":"h-5 w-5"} text-brand-secondary mx-0.5`}),(0,r.jsx)("span",{className:"text-brand-secondary",children:"Move"}),(0,r.jsx)(o,{className:`${"sm"===t?"h-5 w-5":"md"===t?"h-6 w-6":"h-8 w-8"} text-brand-secondary ml-1`})]})]});return null===s?(0,r.jsx)("div",{className:"flex items-center gap-1.5 font-bold",children:a}):(0,r.jsx)(n(),{href:s,className:"flex items-center gap-1.5 font-bold",children:a})}},30848:(e,t,s)=>{"use strict";s.d(t,{UserNav:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call UserNav() from the server but UserNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\components\\user-nav.tsx","UserNav")},46924:(e,t,s)=>{"use strict";s.d(t,{MainNav:()=>f});var r=s(60687),a=s(85814),n=s.n(a),i=s(16189),l=s(96241),o=s(32192),c=s(67760),d=s(48730),m=s(28561),x=s(24934),h=s(85623);function u({className:e}){let{getTotalItems:t,mounted:s}=(0,h._)(),a=s?t():0;return(0,r.jsx)(n(),{href:"/user/cart",children:(0,r.jsxs)(x.$,{variant:"ghost",size:"icon",className:(0,l.cn)("relative",e),"aria-label":`購物車，${a} 件商品`,children:[(0,r.jsx)(m.A,{className:"h-5 w-5"}),a>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-brand-primary text-white text-xs font-medium rounded-full h-5 min-w-5 flex items-center justify-center",children:a})]})})}function f(){let e=(0,i.usePathname)(),t=[{href:"/user/home",label:"首頁",icon:o.A,active:"/user/home"===e},{href:"/user/favorites",label:"我的最愛",icon:c.A,active:"/user/favorites"===e},{href:"/user/recent",label:"近期瀏覽",icon:d.A,active:"/user/recent"===e}];return(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[t.map(e=>(0,r.jsxs)(n(),{href:e.href,className:(0,l.cn)("flex items-center text-sm font-medium transition-colors hover:text-brand-primary relative group",e.active?"text-brand-primary":"text-muted-foreground"),children:[(0,r.jsx)(e.icon,{className:(0,l.cn)("mr-2 h-5 w-5 transition-all",e.active?"text-brand-primary":"text-muted-foreground group-hover:text-brand-primary")}),(0,r.jsx)("span",{children:e.label}),e.active&&(0,r.jsx)("span",{className:"absolute -bottom-1.5 left-0 right-0 h-0.5 bg-brand-primary rounded-full"})]},e.href)),(0,r.jsxs)("div",{className:"flex items-center text-sm font-medium transition-colors hover:text-brand-primary relative group",children:[(0,r.jsx)(u,{className:"/user/cart"===e?"text-brand-primary":"text-muted-foreground"}),(0,r.jsx)("span",{className:"ml-2",children:"購物車"}),"/user/cart"===e&&(0,r.jsx)("span",{className:"absolute -bottom-1.5 left-0 right-0 h-0.5 bg-brand-primary rounded-full"})]})]})}},51016:(e,t,s)=>{Promise.resolve().then(s.bind(s,46924)),Promise.resolve().then(s.bind(s,81578)),Promise.resolve().then(s.bind(s,19186)),Promise.resolve().then(s.t.bind(s,85814,23))},66922:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(37413),a=s(30848),n=s(67678),i=s(67327),l=s(4536),o=s.n(l),c=s(93203),d=s(36440);let m=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...e,children:(0,r.jsx)("path",{d:"M18.18,10l-1.7-4.68C16.19,4.53,15.44,4,14.6,4H12v2h2.6l1.46,4h-4.81l-0.36-1H12V7H7v2h1.75l1.82,5H9.9 c-0.44-2.23-2.31-3.88-4.65-3.99C2.45,9.87,0,12.2,0,15c0,2.8,2.2,5,5,5c2.46,0,4.45-1.69,4.9-4h4.2c0.44,2.23,2.31,3.88,4.65,3.99 c2.8,0.13,5.25-2.19,5.25-5c0-2.8-2.2-5-5-5H18.18z M7.82,16c-0.4,1.17-1.49,2-2.82,2c-1.68,0-3-1.32-3-3s1.32-3,3-3 c1.33,0,2.42,0.83,2.82,2H5v2H7.82z M14.1,14h-1.4l-0.73-2H15C14.56,12.58,14.24,13.25,14.1,14z M19,18c-1.68,0-3-1.32-3-3 c0-0.93,0.41-1.73,1.05-2.28l0.96,2.64l1.88-0.68l-0.97-2.67c0.03,0,0.06-0.01,0.09-0.01c1.68,0,3,1.32,3,3S20.68,18,19,18z"})});function x({variant:e="default",size:t="md",href:s="/user/home"}){let a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(c.A,{className:`text-brand-primary ${"sm"===t?"h-5 w-5":"md"===t?"h-6 w-6":"h-8 w-8"}`})}),"default"===e&&(0,r.jsxs)("div",{className:`flex items-center ${{sm:"text-lg",md:"text-2xl",lg:"text-3xl"}[t]}`,children:[(0,r.jsx)("span",{className:"text-brand-primary",children:"Eat"}),(0,r.jsx)(d.A,{className:`${"sm"===t?"h-3 w-3":"md"===t?"h-4 w-4":"h-5 w-5"} text-brand-secondary mx-0.5`}),(0,r.jsx)("span",{className:"text-brand-secondary",children:"Move"}),(0,r.jsx)(m,{className:`${"sm"===t?"h-5 w-5":"md"===t?"h-6 w-6":"h-8 w-8"} text-brand-secondary ml-1`})]})]});return null===s?(0,r.jsx)("div",{className:"flex items-center gap-1.5 font-bold",children:a}):(0,r.jsx)(o(),{href:s,className:"flex items-center gap-1.5 font-bold",children:a})}function h({children:e}){return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsxs)("div",{className:"container flex h-16 items-center",children:[(0,r.jsx)("div",{className:"mr-4 md:mr-6",children:(0,r.jsx)(x,{})}),(0,r.jsx)(n.MainNav,{}),(0,r.jsx)(i.MobileNav,{}),(0,r.jsx)("div",{className:"ml-auto flex items-center space-x-4",children:(0,r.jsx)(a.UserNav,{})})]})}),(0,r.jsx)("main",{className:"flex-1",children:e}),(0,r.jsx)("footer",{className:"border-t py-6 bg-muted/30",children:(0,r.jsxs)("div",{className:"container flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsx)("div",{className:"mb-4 md:mb-0",children:(0,r.jsx)(x,{})}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," EatMove. 版權所有."]})]})})]})}},67327:(e,t,s)=>{"use strict";s.d(t,{MobileNav:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call MobileNav() from the server but MobileNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\components\\mobile-nav.tsx","MobileNav")},67678:(e,t,s)=>{"use strict";s.d(t,{MainNav:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call MainNav() from the server but MainNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\components\\main-nav.tsx","MainNav")},73295:(e,t,s)=>{"use strict";function r(e,t=300,s=200,a=!1){return`/placeholder.svg?height=${s}&width=${t}&text=${encodeURIComponent(e)}`}function a(e){return r(e,300,200)}function n(e){return r(e,100,100)}function i(e){return r(e,40,40)}s.d(t,{Ah:()=>n,b8:()=>a,dM:()=>i})},81578:(e,t,s)=>{"use strict";s.d(t,{MobileNav:()=>I});var r=s(60687),a=s(85814),n=s.n(a),i=s(16189),l=s(96241),o=s(32192),c=s(67760),d=s(48730),m=s(28561),x=s(12941),h=s(24934),u=s(43210),f=s(26134),p=s(24224),b=s(11860);let v=f.bL,j=f.l9;f.bm;let N=f.ZL,g=u.forwardRef(({className:e,...t},s)=>(0,r.jsx)(f.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));g.displayName=f.hJ.displayName;let y=(0,p.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w=u.forwardRef(({side:e="right",className:t,children:s,...a},n)=>(0,r.jsxs)(N,{children:[(0,r.jsx)(g,{}),(0,r.jsxs)(f.UC,{ref:n,className:(0,l.cn)(y({side:e}),t),...a,children:[s,(0,r.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));w.displayName=f.UC.displayName;let C=({className:e,...t})=>(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});C.displayName="SheetHeader";let M=u.forwardRef(({className:e,...t},s)=>(0,r.jsx)(f.hE,{ref:s,className:(0,l.cn)("text-lg font-semibold text-foreground",e),...t}));M.displayName=f.hE.displayName,u.forwardRef(({className:e,...t},s)=>(0,r.jsx)(f.VY,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})).displayName=f.VY.displayName;var A=s(27962),k=s(59821);function I(){let e=(0,i.usePathname)(),t=[{href:"/user/home",label:"首頁",icon:o.A,active:"/user/home"===e},{href:"/user/favorites",label:"我的最愛",icon:c.A,active:"/user/favorites"===e,badge:0},{href:"/user/recent",label:"近期瀏覽",icon:d.A,active:"/user/recent"===e},{href:"/user/cart",label:"購物車",icon:m.A,active:"/user/cart"===e,badge:3}];return(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)(v,{children:[(0,r.jsx)(j,{asChild:!0,children:(0,r.jsxs)(h.$,{variant:"ghost",size:"icon",className:"text-brand-dark hover:text-brand-primary",children:[(0,r.jsx)(x.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"開啟選單"})]})}),(0,r.jsxs)(w,{side:"left",className:"border-r-brand-primary/20",children:[(0,r.jsx)(C,{className:"mb-6",children:(0,r.jsx)(M,{children:(0,r.jsx)(A.F,{size:"lg"})})}),(0,r.jsx)("nav",{className:"flex flex-col gap-4",children:t.map(e=>(0,r.jsxs)(n(),{href:e.href,className:(0,l.cn)("flex items-center py-3 px-4 text-base font-medium transition-colors rounded-lg",e.active?"bg-brand-primary/10 text-brand-primary":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.label,void 0!==e.badge&&e.badge>0&&(0,r.jsx)(k.E,{variant:"secondary",className:"ml-auto h-5 min-w-5 flex items-center justify-center rounded-full px-1.5 py-0.5 text-xs",children:e.badge})]},e.href))})]})]})})}},85623:(e,t,s)=>{"use strict";s.d(t,{_:()=>l});var r=s(43210),a=s(92598),n=s(70333);let i={items:[],restaurantId:null,restaurantName:null};function l(){let{toast:e}=(0,n.dj)(),[t,s]=(0,r.useState)(!1),[l,o]=(0,a.M)("eatmove-cart",i);return{cart:l,addItem:(s,r=1)=>{t&&(o(t=>{if(0===t.items.length)return{...t,restaurantId:s.restaurantId,restaurantName:s.restaurantName,items:[{...s,quantity:r}]};if(t.restaurantId&&t.restaurantId!==s.restaurantId)return e({title:"無法添加商品",description:`您的購物車中已有來自 ${t.restaurantName} 的商品。請先清空購物車或完成當前訂單。`,variant:"destructive"}),t;let a=t.items.findIndex(e=>e.id===s.id);if(a>-1){let e=[...t.items];return e[a].quantity+=r,{...t,items:e}}return{...t,items:[...t.items,{...s,quantity:r}]}}),e({title:"已添加到購物車",description:`${s.name} x ${r} 已添加到您的購物車`}))},removeItem:s=>{t&&(o(e=>{let t=e.items.filter(e=>e.id!==s);return 0===t.length?i:{...e,items:t}}),e({title:"已從購物車移除",description:"商品已從購物車中移除"}))},updateQuantity:(e,s)=>{t&&!(s<1)&&o(t=>{let r=t.items.map(t=>t.id===e?{...t,quantity:s}:t);return{...t,items:r}})},clearCart:()=>{t&&(o(i),e({title:"購物車已清空",description:"所有商品已從購物車中移除"}))},getSubtotal:()=>l.items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>l.items.reduce((e,t)=>e+t.quantity,0),isInCart:e=>l.items.some(t=>t.id===e),getItemQuantity:e=>{let t=l.items.find(t=>t.id===e);return t?t.quantity:0},mounted:t}}},87464:(e,t,s)=>{Promise.resolve().then(s.bind(s,67678)),Promise.resolve().then(s.bind(s,67327)),Promise.resolve().then(s.bind(s,30848)),Promise.resolve().then(s.t.bind(s,4536,23))},92598:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});var r=s(43210);function a(e,t){let[s,a]=(0,r.useState)(()=>t);return[s,e=>{try{let t=e instanceof Function?e(s):e;a(t)}catch(e){console.error(e)}}]}}};