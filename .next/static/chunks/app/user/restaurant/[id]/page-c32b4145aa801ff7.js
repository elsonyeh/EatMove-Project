(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3212],{704:(e,t,a)=>{"use strict";a.d(t,{B8:()=>C,UC:()=>E,bL:()=>S,l9:()=>O});var i=a(2115),s=a(5185),r=a(6081),n=a(9196),d=a(8905),l=a(3655),c=a(4315),o=a(5845),m=a(1285),u=a(5155),h="Tabs",[g,p]=(0,r.A)(h,[n.RG]),v=(0,n.RG)(),[f,x]=g(h),y=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,onValueChange:s,defaultValue:r,orientation:n="horizontal",dir:d,activationMode:h="automatic",...g}=e,p=(0,c.jH)(d),[v,x]=(0,o.i)({prop:i,onChange:s,defaultProp:r});return(0,u.jsx)(f,{scope:a,baseId:(0,m.B)(),value:v,onValueChange:x,orientation:n,dir:p,activationMode:h,children:(0,u.jsx)(l.sG.div,{dir:p,"data-orientation":n,...g,ref:t})})});y.displayName=h;var b="TabsList",j=i.forwardRef((e,t)=>{let{__scopeTabs:a,loop:i=!0,...s}=e,r=x(b,a),d=v(a);return(0,u.jsx)(n.bL,{asChild:!0,...d,orientation:r.orientation,dir:r.dir,loop:i,children:(0,u.jsx)(l.sG.div,{role:"tablist","aria-orientation":r.orientation,...s,ref:t})})});j.displayName=b;var N="TabsTrigger",w=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,disabled:r=!1,...d}=e,c=x(N,a),o=v(a),m=A(c.baseId,i),h=k(c.baseId,i),g=i===c.value;return(0,u.jsx)(n.q7,{asChild:!0,...o,focusable:!r,active:g,children:(0,u.jsx)(l.sG.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:m,...d,ref:t,onMouseDown:(0,s.m)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,s.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,s.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;g||r||!e||c.onValueChange(i)})})})});w.displayName=N;var I="TabsContent",T=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,forceMount:r,children:n,...c}=e,o=x(I,a),m=A(o.baseId,s),h=k(o.baseId,s),g=s===o.value,p=i.useRef(g);return i.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,u.jsx)(d.C,{present:r||g,children:a=>{let{present:i}=a;return(0,u.jsx)(l.sG.div,{"data-state":g?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":m,hidden:!i,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:i&&n})}})});function A(e,t){return"".concat(e,"-trigger-").concat(t)}function k(e,t){return"".concat(e,"-content-").concat(t)}T.displayName=I;var S=y,C=j,O=w,E=T},750:(e,t,a)=>{Promise.resolve().then(a.bind(a,8346))},1976:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2226:(e,t,a)=>{"use strict";a.d(t,{De:()=>n,Ou:()=>d,QN:()=>r,Rl:()=>i,W7:()=>s,gL:()=>l});let i=[{id:"restaurant-chinese-1",name:"京華樓",description:"正宗北方菜系，提供烤鴨、餃子等經典美食",coverImage:"/placeholder.svg?height=200&width=300&text=京華樓",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:200,address:"台北市大安區忠孝東路四段101號",phone:"02-2771-1234",cuisine:"中式料理",isNew:!1,distance:"2.5 km"},{id:"restaurant-japanese-1",name:"藤井壽司",description:"新鮮食材直送，正統江戶前壽司體驗",coverImage:"/placeholder.svg?height=200&width=300&text=藤井壽司",rating:4.9,deliveryTime:"25-40 分鐘",deliveryFee:80,minimumOrder:350,address:"台北市大安區敦化南路一段233號",phone:"02-2731-2345",cuisine:"日式料理",isNew:!1,distance:"2.7 km"},{id:"restaurant-korean-1",name:"首爾之星",description:"正宗韓式烤肉，多種醬料可選，道地韓國風味",coverImage:"/placeholder.svg?height=200&width=300&text=首爾之星",rating:4.8,deliveryTime:"35-50 分鐘",deliveryFee:75,minimumOrder:300,address:"台北市大安區復興南路一段107號",phone:"02-2711-4567",cuisine:"韓式料理",isNew:!0,distance:"2.3 km"},{id:"restaurant-italian-1",name:"羅馬廚房",description:"道地義式料理，使用進口食材製作，品味義大利風情",coverImage:"/placeholder.svg?height=200&width=300&text=羅馬廚房",rating:4.7,deliveryTime:"35-50 分鐘",deliveryFee:80,minimumOrder:300,address:"台北市大安區敦化南路二段100號",phone:"02-2709-6789",cuisine:"義式料理",isNew:!1,distance:"2.8 km"},{id:"restaurant-american-1",name:"美味漢堡",description:"提供各種美味漢堡、薯條和飲料，道地美式風味",coverImage:"/placeholder.svg?height=200&width=300&text=美味漢堡",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:150,address:"台北市信義區信義路五段7號",phone:"02-2345-6789",cuisine:"美式料理",isNew:!1,distance:"1.2 km"},{id:"restaurant-thai-1",name:"泰饗樂",description:"道地泰國風味，酸辣可口，讓您彷彿置身曼谷",coverImage:"/placeholder.svg?height=200&width=300&text=泰饗樂",rating:4.6,deliveryTime:"30-45 分鐘",deliveryFee:65,minimumOrder:180,address:"台北市松山區南京東路五段123號",phone:"02-2756-1234",cuisine:"泰式料理",isNew:!1,distance:"3.1 km"},{id:"restaurant-vegetarian-1",name:"綠色天地",description:"健康素食料理，使用有機食材，清爽可口",coverImage:"/placeholder.svg?height=200&width=300&text=綠色天地",rating:4.7,deliveryTime:"30-45 分鐘",deliveryFee:60,minimumOrder:150,address:"台北市中正區羅斯福路三段300號",phone:"02-2365-4567",cuisine:"素食",isNew:!1,distance:"3.4 km"},{id:"restaurant-dessert-1",name:"甜點工坊",description:"手工製作各種甜點，口味多樣，甜蜜享受",coverImage:"/placeholder.svg?height=200&width=300&text=甜點工坊",rating:4.8,deliveryTime:"25-40 分鐘",deliveryFee:55,minimumOrder:120,address:"台北市信義區松仁路100號",phone:"02-2723-7890",cuisine:"甜點",isNew:!1,distance:"1.4 km"},{id:"restaurant-beverage-1",name:"茶香坊",description:"精選台灣茶葉，手工調製，清爽解渴",coverImage:"/placeholder.svg?height=200&width=300&text=茶香坊",rating:4.6,deliveryTime:"15-30 分鐘",deliveryFee:40,minimumOrder:100,address:"台北市大安區復興南路一段107號",phone:"02-2711-0123",cuisine:"飲料",isNew:!1,distance:"2.1 km"}],s=[{id:"chinese-1-item-1",restaurantId:"restaurant-chinese-1",name:"北京烤鴨",description:"外皮酥脆，肉質鮮嫩，搭配特製醬料和薄餅",price:580,image:"/placeholder.svg?height=100&width=100&text=北京烤鴨",category:"主餐",isPopular:!0},{id:"chinese-1-item-2",restaurantId:"restaurant-chinese-1",name:"宮保雞丁",description:"辣中帶甜，花生香脆，雞肉嫩滑",price:220,image:"/placeholder.svg?height=100&width=100&text=宮保雞丁",category:"主餐",isPopular:!0},{id:"chinese-1-item-3",restaurantId:"restaurant-chinese-1",name:"蔥油餅",description:"層次分明，外酥內軟，蔥香四溢",price:80,image:"/placeholder.svg?height=100&width=100&text=蔥油餅",category:"配菜"},{id:"japanese-1-item-1",restaurantId:"restaurant-japanese-1",name:"特上握壽司",description:"新鮮海鮮，精緻擺盤，入口即化",price:680,image:"/placeholder.svg?height=100&width=100&text=特上握壽司",category:"主餐",isPopular:!0},{id:"japanese-1-item-2",restaurantId:"restaurant-japanese-1",name:"茶碗蒸",description:"滑嫩蒸蛋，內含海鮮配料，清爽可口",price:150,image:"/placeholder.svg?height=100&width=100&text=茶碗蒸",category:"配菜"},{id:"american-1-item-1",restaurantId:"restaurant-american-1",name:"經典牛肉漢堡",description:"多汁牛肉，新鮮生菜，特製醬料，完美搭配",price:220,image:"/placeholder.svg?height=100&width=100&text=經典牛肉漢堡",category:"主餐",isPopular:!0},{id:"american-1-item-2",restaurantId:"restaurant-american-1",name:"薯條",description:"外酥內軟，黃金比例，搭配特製醬料",price:80,image:"/placeholder.svg?height=100&width=100&text=薯條",category:"配菜",isPopular:!0}],r=[{id:"DEL-001",restaurant:"京華樓",customer:"王小明",deliveryAddress:"台北市信義區信義路五段7號",restaurantAddress:"台北市大安區忠孝東路四段101號",estimatedDeliveryTime:"30-45 分鐘",deliveryFee:60,distance:"2.5 km",notes:"請放在門口，不用按門鈴",status:"available",items:[{name:"北京烤鴨",quantity:1,price:580,image:"/placeholder.svg?height=64&width=64&text=北京烤鴨"},{name:"宮保雞丁",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=宮保雞丁"}]},{id:"DEL-002",restaurant:"藤井壽司",customer:"李美麗",deliveryAddress:"台北市中山區南京東路二段100號",restaurantAddress:"台北市大安區敦化南路一段233號",estimatedDeliveryTime:"25-40 分鐘",deliveryFee:70,distance:"3.2 km",notes:"請送到辦公室",status:"accepted",items:[{name:"特上握壽司",quantity:1,price:680,image:"/placeholder.svg?height=64&width=64&text=特上握壽司"},{name:"茶碗蒸",quantity:1,price:150,image:"/placeholder.svg?height=64&width=64&text=茶碗蒸"}]},{id:"DEL-003",restaurant:"美味漢堡",customer:"陳志明",deliveryAddress:"台北市大安區忠孝東路四段101號",restaurantAddress:"台北市信義區松壽路12號",estimatedDeliveryTime:"20-35 分鐘",deliveryFee:50,distance:"1.8 km",notes:"",status:"completed",items:[{name:"經典牛肉漢堡",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=經典牛肉漢堡"},{name:"薯條",quantity:1,price:80,image:"/placeholder.svg?height=64&width=64&text=薯條"},{name:"可樂",quantity:1,price:50,image:"/placeholder.svg?height=64&width=64&text=可樂"}]}],n=[{id:"ORD-001",customer:"王小明",time:"12:30",deliveryAddress:"台北市信義區信義路五段7號",total:580,status:"pending",items:[{name:"北京烤鴨",quantity:1,price:580,image:"/placeholder.svg?height=64&width=64&text=北京烤鴨"}]},{id:"ORD-002",customer:"李美麗",time:"13:45",deliveryAddress:"台北市中山區南京東路二段100號",total:220,status:"preparing",items:[{name:"宮保雞丁",quantity:1,price:220,image:"/placeholder.svg?height=64&width=64&text=宮保雞丁"}]},{id:"ORD-003",customer:"陳志明",time:"18:00",deliveryAddress:"台北市大安區忠孝東路四段101號",total:180,status:"completed",items:[{name:"水餃 (12顆)",quantity:1,price:180,image:"/placeholder.svg?height=64&width=64&text=水餃"}]}],d=e=>i.find(t=>t.id===e),l=e=>s.filter(t=>t.restaurantId===e)},2643:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var i=a(2115),s=a(3952),r=a(4503);let n={items:[],restaurantId:null,restaurantName:null};function d(){let{toast:e}=(0,r.dj)(),[t,a]=(0,i.useState)(!1),[d,l]=(0,s.M)("eatmove-cart",n);return(0,i.useEffect)(()=>{a(!0)},[]),{cart:d,addItem:function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t&&(l(t=>{if(0===t.items.length)return{...t,restaurantId:a.restaurantId,restaurantName:a.restaurantName,items:[{...a,quantity:i}]};if(t.restaurantId&&t.restaurantId!==a.restaurantId)return e({title:"無法添加商品",description:"您的購物車中已有來自 ".concat(t.restaurantName," 的商品。請先清空購物車或完成當前訂單。"),variant:"destructive"}),t;let s=t.items.findIndex(e=>e.id===a.id);if(s>-1){let e=[...t.items];return e[s].quantity+=i,{...t,items:e}}return{...t,items:[...t.items,{...a,quantity:i}]}}),e({title:"已添加到購物車",description:"".concat(a.name," x ").concat(i," 已添加到您的購物車")}))},removeItem:a=>{t&&(l(e=>{let t=e.items.filter(e=>e.id!==a);return 0===t.length?n:{...e,items:t}}),e({title:"已從購物車移除",description:"商品已從購物車中移除"}))},updateQuantity:(e,a)=>{t&&!(a<1)&&l(t=>{let i=t.items.map(t=>t.id===e?{...t,quantity:a}:t);return{...t,items:i}})},clearCart:()=>{t&&(l(n),e({title:"購物車已清空",description:"所有商品已從購物車中移除"}))},getSubtotal:()=>d.items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>d.items.reduce((e,t)=>e+t.quantity,0),isInCart:e=>d.items.some(t=>t.id===e),getItemQuantity:e=>{let t=d.items.find(t=>t.id===e);return t?t.quantity:0},mounted:t}}},3311:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i=(0,a(9946).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3952:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});var i=a(2115);function s(e,t){let[a,s]=(0,i.useState)(()=>{try{let a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return console.error(e),t}});return(0,i.useEffect)(()=>{let t=t=>{t.key===e&&t.newValue&&s(JSON.parse(t.newValue))};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[e]),[a,t=>{try{let i=t instanceof Function?t(a):t;s(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(e){console.error(e)}}]}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var i=a(2596),s=a(9688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,i.$)(t))}},4503:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var i=a(2115);let s=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function o(e){c=d(c,e),l.forEach(e=>{e(c)})}function m(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||i()}}}),{id:a,dismiss:i,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=i.useState(c);return i.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},4964:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>c,av:()=>o,j7:()=>l,tU:()=>d});var i=a(5155),s=a(2115),r=a(704),n=a(3999);let d=r.bL,l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(r.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});l.displayName=r.B8.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(r.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});c.displayName=r.l9.displayName;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)(r.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});o.displayName=r.UC.displayName},6937:(e,t,a)=>{"use strict";a.d(t,{d:()=>r});var i=a(2115),s=a(3952);function r(){let[e,t]=(0,s.M)("eatmove-recent-views",[]),[a,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r(!0)},[]),{recentViews:e,addRecentView:e=>{a&&t(t=>{let a=t.filter(t=>t.id!==e.id);return[e,...a].slice(0,10)})},clearRecentViews:()=>{a&&t([])},isLoaded:a}}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var i=a(5155),s=a(2115),r=a(9708),n=a(2085),d=a(3999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:c=!1,...o}=e,m=c?r.DX:"button";return(0,i.jsx)(m,{className:(0,d.cn)(l({variant:s,size:n,className:a})),ref:t,...o})});c.displayName="Button"},7918:(e,t,a)=>{"use strict";a.d(t,{r:()=>r});var i=a(2115),s=a(3952);function r(){let[e,t]=(0,s.M)("eatmove-favorites",[]),[a,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{r(!0)},[]),{favorites:e,addFavorite:i=>{a&&!e.some(e=>e.id===i.id)&&t([...e,i])},removeFavorite:i=>{a&&t(e.filter(e=>e.id!==i))},isFavorite:t=>e.some(e=>e.id===t),isLoaded:a}}},8145:(e,t,a)=>{"use strict";a.d(t,{E:()=>d});var i=a(5155);a(2115);var s=a(2085),r=a(3999);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:a,...s}=e;return(0,i.jsx)("div",{className:(0,r.cn)(n({variant:a}),t),...s})}},8346:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var i=a(5155),s=a(2115),r=a(5695),n=a(6874),d=a.n(n),l=a(6766);let c=(0,a(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var o=a(1976),m=a(7168),u=a(8145),h=a(4964),g=a(2226),p=a(4503),v=a(7918),f=a(6937),x=a(9269);function y(e){let{item:t,cuisine:a,index:s,onAddToCart:r}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[(0,i.jsx)("div",{className:"w-24 h-24 relative rounded-md overflow-hidden bg-gray-100 shrink-0",children:(0,i.jsx)(l.default,{src:(0,x.Ah)(t.name)||"/placeholder.svg",alt:t.name,fill:!0,className:"object-cover",loading:s<2?"eager":"lazy",sizes:"96px"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:t.name}),(0,i.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 mb-2",children:t.description}),(0,i.jsxs)("div",{className:"text-lg font-bold",children:["$",t.price]})]}),(0,i.jsx)(m.$,{onClick:()=>r(t.id),className:"shrink-0 bg-orange-500 hover:bg-orange-600",children:"加入購物車"})]})}var b=a(3311),j=a(8482);function N(e){let{restaurantName:t,cuisine:a,menu:s}=e,r=[...s].sort((e,t)=>t.price-e.price).slice(0,2).map(e=>e.name).join("和");return(0,i.jsx)(j.Zp,{className:"bg-gradient-to-r from-brand-primary/5 to-brand-secondary/5 border-brand-primary/20 mb-6",children:(0,i.jsx)(j.Wu,{className:"pt-6",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"bg-brand-primary/10 p-2 rounded-full",children:(0,i.jsx)(b.A,{className:"h-5 w-5 text-brand-primary"})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"font-medium mb-1",children:"推薦美食"}),(0,i.jsx)("p",{className:"text-sm",children:0===s.length?"".concat(t,"的招牌菜即將推出，敬請期待！"):({中式料理:"推薦您品嚐".concat(t,"的").concat(r,"，正宗").concat(a,"風味，讓您回味無窮。"),日式料理:"".concat(t,"的").concat(r,"是不可錯過的選擇，新鮮食材搭配道地").concat(a,"手法。"),韓式料理:"".concat(r,"是").concat(t,"的招牌菜品，道地").concat(a,"風味，香辣可口。"),義式料理:"".concat(t,"的").concat(r,"使用進口食材製作，正宗").concat(a,"風味。"),美式料理:"".concat(r,"是").concat(t,"的熱門選擇，道地").concat(a,"風味，份量十足。"),泰式料理:"推薦您嘗試".concat(t,"的").concat(r,"，酸辣可口的").concat(a,"風味。"),素食:"".concat(t,"的").concat(r,"採用新鮮有機食材，健康美味的").concat(a,"選擇。"),甜點:"".concat(t,"的").concat(r,"是甜點愛好者的最愛，精緻可口。"),飲料:"".concat(t,"的").concat(r,"是解渴首選，清爽可口。")})[a]||"推薦您品嚐".concat(t,"的").concat(r,"，是本店熱門選擇。")})]})]})})})}var w=a(2643);function I(){let e=(0,r.useParams)(),{toast:t}=(0,p.dj)(),{favorites:a,addFavorite:n,removeFavorite:b,isFavorite:j}=(0,v.r)(),{addRecentView:I}=(0,f.d)(),[T,A]=(0,s.useState)(null),[k,S]=(0,s.useState)([]),[C,O]=(0,s.useState)("all"),[E,R]=(0,s.useState)(!0),{addItem:D,getTotalItems:F}=(0,w._)(),[_,M]=(0,s.useState)({});(0,s.useEffect)(()=>{let t=setTimeout(()=>{let t=(0,g.Ou)(e.id),a=(0,g.gL)(e.id);t&&(A(t),S(a),I(t)),R(!1)},500);return()=>clearTimeout(t)},[e.id,I]);let q=e=>{let t=k.find(t=>t.id===e);t&&D({id:t.id,name:t.name,price:t.price,image:t.image||(0,x.Ah)(t.name),restaurantId:T.id,restaurantName:T.name})},L="all"===C?k:k.filter(e=>e.category===C);return(k.length>0&&[...new Set(k.map(e=>e.category))],E)?(0,i.jsxs)("div",{className:"container py-8 animate-pulse",children:[(0,i.jsx)("div",{className:"h-8 w-32 bg-muted rounded mb-4"}),(0,i.jsx)("div",{className:"h-64 w-full bg-muted rounded-xl mb-6"}),(0,i.jsx)("div",{className:"h-10 w-full bg-muted rounded mb-8"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array(6).fill(0).map((e,t)=>(0,i.jsx)("div",{className:"h-48 bg-muted rounded-xl"},t))})]}):T?(0,i.jsxs)("div",{className:"pb-24 bg-gray-100 min-h-screen",children:[(0,i.jsx)("div",{className:"container py-4",children:(0,i.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,className:"gap-1",children:(0,i.jsxs)(d(),{href:"/user/home",children:[(0,i.jsx)(c,{className:"h-4 w-4"}),(0,i.jsx)("span",{children:"返回"})]})})}),(0,i.jsxs)("div",{className:"relative h-64 w-full bg-gray-300 mb-4",children:[(0,i.jsx)(l.default,{src:(0,x.b8)(T.name)||"/placeholder.svg",alt:T.name,fill:!0,className:"object-cover"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"flex justify-between items-end",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold mb-2",children:T.name}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(u.E,{variant:"secondary",className:"bg-white/20 text-white",children:T.cuisine}),(0,i.jsxs)("span",{children:["⭐ ",T.rating]}),(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{children:T.deliveryTime})]})]}),(0,i.jsx)(m.$,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 hover:text-white",onClick:()=>{T&&(j(T.id)?(b(T.id),t({title:"已從最愛移除",description:"".concat(T.name," 已從您的最愛清單中移除"),variant:"default"})):(n(T),t({title:"已加入最愛",description:"".concat(T.name," 已加入您的最愛清單"),variant:"default"})))},children:(0,i.jsx)(o.A,{className:j(T.id)?"fill-white":""})})]})})})]}),(0,i.jsx)("div",{className:"container py-4",children:(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,i.jsxs)("div",{className:"w-full lg:w-8/12",children:[(0,i.jsx)(N,{restaurantName:T.name,cuisine:T.cuisine,menu:k}),(0,i.jsxs)(h.tU,{value:"all"===C?"menu":C,onValueChange:e=>{"menu"===e?O("all"):O(e)},className:"w-full",children:[(0,i.jsxs)(h.j7,{className:"grid w-full grid-cols-2 mb-6 bg-white rounded-lg overflow-hidden",children:[(0,i.jsx)(h.Xi,{value:"menu",className:"data-[state=active]:bg-white data-[state=active]:shadow-none py-4 rounded-none",children:"菜單"}),(0,i.jsx)(h.Xi,{value:"info",className:"data-[state=active]:bg-gray-100 data-[state=active]:shadow-none py-4 rounded-none",children:"餐廳資訊"})]}),(0,i.jsx)(h.av,{value:"menu",className:"mt-0",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-6",children:"熱門餐點"}),(0,i.jsx)("div",{className:"space-y-4",children:L.filter(e=>e.isPopular).map((e,t)=>(0,i.jsx)(y,{item:e,cuisine:T.cuisine,index:t,onAddToCart:()=>q(e.id)},e.id))}),L.filter(e=>!e.isPopular).length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-6 mt-8",children:"其他餐點"}),(0,i.jsx)("div",{className:"space-y-4",children:L.filter(e=>!e.isPopular).map((e,t)=>(0,i.jsx)(y,{item:e,cuisine:T.cuisine,index:t,onAddToCart:()=>q(e.id)},e.id))})]})]})}),(0,i.jsx)(h.av,{value:"info",className:"mt-0",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"餐廳資訊"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"最低消費"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",T.minimumOrder]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"外送費"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",T.deliveryFee]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"預計送達時間"}),(0,i.jsx)("span",{className:"font-medium",children:T.deliveryTime})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"地址"}),(0,i.jsx)("span",{className:"font-medium",children:T.address})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"電話"}),(0,i.jsx)("span",{className:"font-medium",children:T.phone})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)(u.E,{variant:"outline",className:"bg-gray-100",children:T.cuisine})})]})]})})]})]}),(0,i.jsx)("div",{className:"w-full lg:w-4/12 hidden lg:block",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 sticky top-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"餐廳資訊"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"最低消費"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",T.minimumOrder]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"外送費"}),(0,i.jsxs)("span",{className:"font-medium",children:["$",T.deliveryFee]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"預計送達時間"}),(0,i.jsx)("span",{className:"font-medium",children:T.deliveryTime})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)(u.E,{variant:"outline",className:"bg-gray-100",children:T.cuisine})})]})]})})]})}),F()>0&&(0,i.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 z-50",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)(m.$,{className:"w-full bg-orange-500 hover:bg-orange-600",size:"lg",asChild:!0,children:(0,i.jsxs)(d(),{href:"/user/cart",children:["查看購物車 (",F()," 件商品)"]})})})})]}):(0,i.jsx)("div",{className:"container py-8",children:(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"餐廳不存在"}),(0,i.jsx)("p",{className:"mb-6 text-muted-foreground",children:"找不到您要查看的餐廳"}),(0,i.jsx)(m.$,{asChild:!0,children:(0,i.jsx)(d(),{href:"/user/home",children:"返回首頁"})})]})})}},8482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>d,wL:()=>m});var i=a(5155),s=a(2115),r=a(3999);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...s})});d.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...s})});m.displayName="CardFooter"},9269:(e,t,a)=>{"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return arguments.length>3&&void 0!==arguments[3]&&arguments[3],"/placeholder.svg?height=".concat(a,"&width=").concat(t,"&text=").concat(encodeURIComponent(e))}function s(e){return i(e,300,200)}function r(e){return i(e,100,100)}function n(e){return i(e,40,40)}a.d(t,{Ah:()=>r,b8:()=>s,dM:()=>n})}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,4052,6766,6441,8441,1684,7358],()=>t(750)),_N_E=e.O()}]);