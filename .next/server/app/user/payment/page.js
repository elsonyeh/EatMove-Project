(()=>{var e={};e.id=969,e.ids=[969],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38566:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var t=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(r,d);let o={children:["",{children:["user",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96254)),"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\app\\user\\payment\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,66922)),"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\app\\user\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\app\\user\\payment\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/user/payment/page",pathname:"/user/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},39390:(e,r,s)=>{"use strict";s.d(r,{J:()=>o});var t=s(60687),a=s(43210),n=s(78148),i=s(24224),l=s(96241);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(n.b,{ref:s,className:(0,l.cn)(d(),e),...r}));o.displayName=n.b.displayName},40590:(e,r,s)=>{Promise.resolve().then(s.bind(s,96254))},42902:(e,r,s)=>{"use strict";s.d(r,{d:()=>l});var t=s(60687),a=s(43210),n=s(90270),i=s(96241);let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:s,children:(0,t.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));l.displayName=n.bL.displayName},53784:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var t=s(60687),a=s(59821),n=s(43210),i=s(24934),l=s(55192),d=s(68988),o=s(39390),c=s(42902),u=s(70333),p=s(96474),m=s(85778),x=s(13964),f=s(88233);let h=(0,s(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),v=[{id:"card-1",type:"credit",name:"王小明",number:"•••• •••• •••• 1234",expiry:"12/25",isDefault:!0},{id:"card-2",type:"credit",name:"王小明",number:"•••• •••• •••• 5678",expiry:"06/24",isDefault:!1}];function b(){let{toast:e}=(0,u.dj)(),[r,s]=(0,n.useState)(v),[b,y]=(0,n.useState)(!1),[g,j]=(0,n.useState)({name:"",number:"",expiry:"",cvc:"",isDefault:!1}),N=e=>{let{name:r,value:s}=e.target;j({...g,[r]:s})},k=t=>{if(t.preventDefault(),!g.name||!g.number||!g.expiry||!g.cvc){e({title:"錯誤",description:"請填寫所有必填欄位",variant:"destructive"});return}let a={id:`card-${Date.now()}`,type:"credit",name:g.name,number:`•••• •••• •••• ${g.number.slice(-4)}`,expiry:g.expiry,isDefault:g.isDefault};s([...r.map(e=>({...e,isDefault:!g.isDefault&&e.isDefault})),a]),j({name:"",number:"",expiry:"",cvc:"",isDefault:!1}),y(!1),e({title:"成功",description:"已成功添加新的付款方式"})},w=t=>{s(r.map(e=>({...e,isDefault:e.id===t}))),e({title:"已更新",description:"已設定為預設付款方式"})},C=t=>{let a=r.find(e=>e.id===t);a?.isDefault&&r.length>1&&(r.filter(e=>e.id!==t)[0].isDefault=!0),s(r.filter(e=>e.id!==t)),e({title:"已刪除",description:"付款方式已成功刪除"})};return(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"付款方式"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"管理您的付款方式和偏好設定"})]}),(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"已儲存的付款方式"}),(0,t.jsx)(i.$,{onClick:()=>y(!b),children:b?"取消":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"})," 新增付款方式"]})})]}),b&&(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"新增信用卡"}),(0,t.jsx)(l.BT,{children:"請填寫您的信用卡資訊"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"持卡人姓名"}),(0,t.jsx)(d.p,{id:"name",name:"name",placeholder:"請輸入持卡人姓名",value:g.name,onChange:N})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.J,{htmlFor:"number",children:"卡號"}),(0,t.jsx)(d.p,{id:"number",name:"number",placeholder:"請輸入卡號",value:g.number,onChange:N})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.J,{htmlFor:"expiry",children:"到期日"}),(0,t.jsx)(d.p,{id:"expiry",name:"expiry",placeholder:"MM/YY",value:g.expiry,onChange:N})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.J,{htmlFor:"cvc",children:"安全碼"}),(0,t.jsx)(d.p,{id:"cvc",name:"cvc",placeholder:"CVC",value:g.cvc,onChange:N})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.d,{id:"default-payment",checked:g.isDefault,onCheckedChange:e=>{j({...g,isDefault:e})}}),(0,t.jsx)(o.J,{htmlFor:"default-payment",children:"設為預設付款方式"})]})]})}),(0,t.jsx)(l.wL,{children:(0,t.jsx)(i.$,{type:"submit",onClick:k,children:"新增卡片"})})]}),r.length>0?(0,t.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,t.jsx)(l.Zp,{className:e.isDefault?"border-brand-primary/50":"",children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"mr-4 p-2 bg-brand-primary/10 rounded-full",children:(0,t.jsx)(m.A,{className:"h-6 w-6 text-brand-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.number}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.name," • 到期日 ",e.expiry]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.isDefault?(0,t.jsxs)(a.E,{variant:"outline",className:"bg-brand-primary/10 text-brand-primary border-brand-primary/20",children:[(0,t.jsx)(x.A,{className:"mr-1 h-3 w-3"}),"預設"]}):(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>w(e.id),children:"設為預設"}),(0,t.jsxs)(i.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:()=>C(e.id),children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"刪除"})]})]})]})})},e.id))}):(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"p-6 flex flex-col items-center justify-center text-center py-12",children:[(0,t.jsx)("div",{className:"bg-muted p-4 rounded-full mb-4",children:(0,t.jsx)(h,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"尚未添加付款方式"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"添加付款方式以便快速結帳"}),(0,t.jsxs)(i.$,{onClick:()=>y(!0),children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"新增付款方式"]})]})})]})]})}},55192:(e,r,s)=>{"use strict";s.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>u});var t=s(60687),a=s(43210),n=s(96241);let i=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let o=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68988:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var t=s(60687),a=s(43210),n=s(96241);let i=a.forwardRef(({className:e,type:r,...s},a)=>(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-black ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));i.displayName="Input"},78148:(e,r,s)=>{"use strict";s.d(r,{b:()=>l});var t=s(43210),a=s(14163),n=s(60687),i=t.forwardRef((e,r)=>(0,n.jsx)(a.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=i},80342:(e,r,s)=>{Promise.resolve().then(s.bind(s,53784))},83721:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});var t=s(43210);function a(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},88233:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},90270:(e,r,s)=>{"use strict";s.d(r,{bL:()=>N,zi:()=>k});var t=s(43210),a=s(70569),n=s(98599),i=s(11273),l=s(65551),d=s(83721),o=s(18853),c=s(14163),u=s(60687),p="Switch",[m,x]=(0,i.A)(p),[f,h]=m(p),v=t.forwardRef((e,r)=>{let{__scopeSwitch:s,name:i,checked:d,defaultChecked:o,required:p,disabled:m,value:x="on",onCheckedChange:h,form:v,...b}=e,[y,N]=t.useState(null),k=(0,n.s)(r,e=>N(e)),w=t.useRef(!1),C=!y||v||!!y.closest("form"),[D=!1,P]=(0,l.i)({prop:d,defaultProp:o,onChange:h});return(0,u.jsxs)(f,{scope:s,checked:D,disabled:m,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":D,"aria-required":p,"data-state":j(D),"data-disabled":m?"":void 0,disabled:m,value:x,...b,ref:k,onClick:(0,a.m)(e.onClick,e=>{P(e=>!e),C&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),C&&(0,u.jsx)(g,{control:y,bubbles:!w.current,name:i,value:x,checked:D,required:p,disabled:m,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=p;var b="SwitchThumb",y=t.forwardRef((e,r)=>{let{__scopeSwitch:s,...t}=e,a=h(b,s);return(0,u.jsx)(c.sG.span,{"data-state":j(a.checked),"data-disabled":a.disabled?"":void 0,...t,ref:r})});y.displayName=b;var g=e=>{let{control:r,checked:s,bubbles:a=!0,...n}=e,i=t.useRef(null),l=(0,d.Z)(s),c=(0,o.X)(r);return t.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&r){let t=new Event("click",{bubbles:a});r.call(e,s),e.dispatchEvent(t)}},[l,s,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var N=v,k=y},96254:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\elson\\\\OneDrive\\\\桌面\\\\大學\\\\大三下\\\\資料庫管理\\\\EatMove\\\\app\\\\user\\\\payment\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\elson\\OneDrive\\桌面\\大學\\大三下\\資料庫管理\\EatMove\\app\\user\\payment\\page.tsx","default")},96474:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[719,654,422,465,905,235,962],()=>s(38566));module.exports=t})();